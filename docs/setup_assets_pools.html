<!DOCTYPE html PUBLIC ""
    "">
<html><head><meta charset="UTF-8" /><title>Setup Collaterals</title><link rel="stylesheet" type="text/css" href="css/default.css" /><link rel="stylesheet" type="text/css" href="css/highlight.css" /><script type="text/javascript" src="js/highlight.min.js"></script><script type="text/javascript" src="js/jquery.min.js"></script><script type="text/javascript" src="js/page_effects.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div id="header"><h2>Generated by <a href="https://github.com/weavejester/codox">Codox</a></h2><h1><a href="index.html"><span class="project-title"><span class="project-name">Clojucture</span> <span class="project-version">0.0.1-SNAPSHOT</span></span></a></h1></div><div class="sidebar primary"><h3 class="no-link"><span class="inner">Project</span></h3><ul class="index-link"><li class="depth-1 "><a href="index.html"><div class="inner">Index</div></a></li></ul><h3 class="no-link"><span class="inner">Topics</span></h3><ul><li class="depth-1 "><a href="intro.html"><div class="inner"><span>Introduction to clojucture</span></div></a></li><li class="depth-1  current"><a href="setup_assets_pools.html"><div class="inner"><span>Setup Collaterals</span></div></a></li></ul><h3 class="no-link"><span class="inner">Namespaces</span></h3><ul><li class="depth-1"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>clojucture</span></div></div></li><li class="depth-2 branch"><a href="clojucture.asset.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>asset</span></div></a></li><li class="depth-2 branch"><a href="clojucture.assumption.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>assumption</span></div></a></li><li class="depth-2 branch"><a href="clojucture.bond.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>bond</span></div></a></li><li class="depth-2 branch"><a href="clojucture.core.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>core</span></div></a></li><li class="depth-2 branch"><a href="clojucture.deal.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>deal</span></div></a></li><li class="depth-2 branch"><a href="clojucture.pool.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>pool</span></div></a></li><li class="depth-2 branch"><a href="clojucture.reader.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>reader</span></div></a></li><li class="depth-2 branch"><a href="clojucture.trigger.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>trigger</span></div></a></li><li class="depth-2 branch"><a href="clojucture.type.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>type</span></div></a></li><li class="depth-2 branch"><a href="clojucture.util.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>util</span></div></a></li><li class="depth-2"><a href="clojucture.wf.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>wf</span></div></a></li></ul></div><div class="document" id="content"><div class="doc"><div class="markdown"><h1><a href="#setup-collaterals" name="setup-collaterals"></a>Setup Collaterals</h1>
<p>a pool is consisting of assets. before settup a pool, we should create assets.</p>
<h2><a href="#creating-assets" name="creating-assets"></a>Creating Assets</h2>
<h3><a href="#create-assets-programmatically" name="create-assets-programmatically"></a>create assets programmatically</h3>
<p>we can create a loan <code>loan</code> record under namespace <code>clojucture.asset</code></p>
<pre><code>(ns clojucture.asset-test
  (:require
    [java-time :as jt]
    [clojucture.asset :as asset ])
  )
(def myloan 
    (asset/-&gt;loan (jt/local-date 2018 2 1) (jt/months 1) 11 0.08 1250 {:daycount :ACT_365} ))
</code></pre>
<p>now we have created a loan with symbol <code>myloan</code>, with attributes following: * starting date at Feb 1/2018, a local-date instance from java.time * payment interval at 1 month * term = 11 , which means the loan matures after term * periodicity = 11 * 1 Months = 11 months * balance = 1250.00, by default , the balance will be paid off at last period * rate = 0.08, annualized rate.</p>
<p>we can call <code>project-cashflow</code> on <code>myloan</code></p>
<pre><code>(.project-cashflow myloan)
</code></pre>
<table>
  <thead>
    <tr>
      <th>dates </th>
      <th>balance </th>
      <th>principal </th>
      <th>accrued-interest </th>
      <th>interest </th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>2018-02-01 </td>
      <td>1250.0 </td>
      <td>0.0 </td>
      <td>0.0 </td>
      <td>0.0 </td>
    </tr>
    <tr>
      <td>2018-03-01 </td>
      <td>1250.0 </td>
      <td>0.0 </td>
      <td>7.671232876712329 </td>
      <td>7.671232876712329 </td>
    </tr>
    <tr>
      <td>2018-04-01 </td>
      <td>1250.0 </td>
      <td>0.0 </td>
      <td>8.493150684931507 </td>
      <td>8.493150684931507 </td>
    </tr>
    <tr>
      <td>… </td>
      <td>… </td>
      <td>… </td>
      <td>… </td>
      <td>… </td>
    </tr>
    <tr>
      <td>2018-05-01 </td>
      <td>1250.0 </td>
      <td>0.0 </td>
      <td>8.21917808219178 </td>
      <td>8.21917808219178 </td>
    </tr>
    <tr>
      <td>2018-11-01 </td>
      <td>1250.0 </td>
      <td>0.0 </td>
      <td>8.493150684931507 </td>
      <td>8.493150684931507 </td>
    </tr>
    <tr>
      <td>2018-12-01 </td>
      <td>1250.0 </td>
      <td>0.0 </td>
      <td>8.21917808219178 </td>
      <td>8.21917808219178 </td>
    </tr>
    <tr>
      <td>2019-01-01 </td>
      <td>0.0 </td>
      <td>1250.0 </td>
      <td>8.493150684931507 </td>
      <td>8.493150684931507 </td>
    </tr>
  </tbody>
</table>
<h3><a href="#create-assets-from-external-source" name="create-assets-from-external-source"></a>create assets from external source</h3>
<h2><a href="#creating-pools" name="creating-pools"></a>Creating Pools</h2></div></div></div></body></html>